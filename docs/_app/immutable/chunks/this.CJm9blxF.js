import{h as n,a as _,b as k,v as R,w as x,s as N,x as u,y as d,c as T,p as E,d as b,E as g,z as q,A as v,k as B,B as F,S as L}from"./runtime.9n_1baGg.js";function Y(a,f,e,c=null,i=!1){n&&_();var s=a,r=null,t=null,l=null,A=i?g:0;k(()=>{if(l===(l=!!f()))return;let h=!1;if(n){const S=s.data===R;l===S&&(s=x(),N(s),u(!1),h=!0)}l?(r?d(r):r=T(()=>e(s)),t&&E(t,()=>{t=null})):(t?d(t):c&&(t=T(()=>c(s))),r&&E(r,()=>{r=null})),h&&u(!0)},A),n&&(s=b)}function y(a,f){return a===f||(a==null?void 0:a[L])===f}function w(a={},f,e,c){return q(()=>{var i,s;return v(()=>{i=s,s=[],B(()=>{a!==e(...s)&&(f(a,...s),i&&y(e(...i),a)&&f(null,...i))})}),()=>{F(()=>{s&&y(e(...s),a)&&f(null,...s)})}}),a}export{w as b,Y as i};
