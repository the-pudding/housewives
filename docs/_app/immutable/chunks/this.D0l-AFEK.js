import{b as S,a2 as d,a as u,a3 as h,h as t,N as y,E as A,_ as R,$ as b,V as q,a0 as o,c as k,an as x,ao as F,f as L,a4 as O,S as Y}from"./runtime.uNZDwyYJ.js";function B(f,i,n,r=null,s=!1){t&&y();var a=f,c=null,e=null,l=null,v=s?A:0;S(()=>{if(l===(l=!!i()))return;let T=!1;if(t){const N=a.data===R;l===N&&(a=b(),q(a),o(!1),T=!0)}l?(c?d(c):c=u(()=>n(a)),e&&h(e,()=>{e=null})):(e?d(e):r&&(e=u(()=>r(a))),c&&h(c,()=>{c=null})),T&&o(!0)},v),t&&(a=k)}function C(f,i,n){t&&y();var r=f,s,a;S(()=>{s!==(s=i())&&(a&&(h(a),a=null),s&&(a=u(()=>n(r,s))))},A),t&&(r=k)}function E(f,i){return f===i||(f==null?void 0:f[Y])===i}function D(f={},i,n,r){return x(()=>{var s,a;return F(()=>{s=a,a=(r==null?void 0:r())||[],L(()=>{f!==n(...a)&&(i(f,...a),s&&E(n(...s),f)&&i(null,...s))})}),()=>{O(()=>{a&&E(n(...a),f)&&i(null,...a)})}}),f}export{D as b,C as c,B as i};
