import{b as y,p as d,a as u,q as h,h as t,j as A,E as S,H as q,r as N,s as b,o,c as k,al as x,am as F,f as H,t as L,Z as O}from"./runtime.nI-phWPU.js";function j(a,i,n,r=null,s=!1){t&&A();var f=a,c=null,e=null,l=null,v=s?S:0;y(()=>{if(l===(l=!!i()))return;let T=!1;if(t){const R=f.data===q;l===R&&(f=N(),b(f),o(!1),T=!0)}l?(c?d(c):c=u(()=>n(f)),e&&h(e,()=>{e=null})):(e?d(e):r&&(e=u(()=>r(f))),c&&h(c,()=>{c=null})),T&&o(!0)},v),t&&(f=k)}function B(a,i,n){t&&A();var r=a,s,f;y(()=>{s!==(s=i())&&(f&&(h(f),f=null),s&&(f=u(()=>n(r,s))))},S),t&&(r=k)}function E(a,i){return a===i||(a==null?void 0:a[O])===i}function C(a={},i,n,r){return x(()=>{var s,f;return F(()=>{s=f,f=(r==null?void 0:r())||[],H(()=>{a!==n(...f)&&(i(a,...f),s&&E(n(...s),a)&&i(null,...s))})}),()=>{L(()=>{f&&E(n(...f),a)&&i(null,...f)})}}),a}export{C as b,B as c,j as i};
