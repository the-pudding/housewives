import{h as t,w as S,b as k,F,G as L,z as N,I as d,K as E,a as u,L as h,c as y,E as A,ak as b,al as q,a4 as x,M as I,S as M}from"./runtime.BP1S_bhK.js";function Y(a,i,n,r=null,s=!1){t&&S();var f=a,c=null,e=null,l=null,v=s?A:0;k(()=>{if(l===(l=!!i()))return;let T=!1;if(t){const R=f.data===F;l===R&&(f=L(),N(f),d(!1),T=!0)}l?(c?E(c):c=u(()=>n(f)),e&&h(e,()=>{e=null})):(e?E(e):r&&(e=u(()=>r(f))),c&&h(c,()=>{c=null})),T&&d(!0)},v),t&&(f=y)}function w(a,i,n){t&&S();var r=a,s,f;k(()=>{s!==(s=i())&&(f&&(h(f),f=null),s&&(f=u(()=>n(r,s))))},A),t&&(r=y)}function o(a,i){return a===i||(a==null?void 0:a[M])===i}function z(a={},i,n,r){return b(()=>{var s,f;return q(()=>{s=f,f=(r==null?void 0:r())||[],x(()=>{a!==n(...f)&&(i(a,...f),s&&o(n(...s),a)&&i(null,...s))})}),()=>{I(()=>{f&&o(n(...f),a)&&i(null,...f)})}}),a}export{z as b,w as c,Y as i};
